<!doctype html>
<html data-n-head-ssr lang="ja" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22ja%22%7D%7D">
  <head>
    <title>PICO-8のすすめとチートシート | KLEENOTE（クレーノート）</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" name="theme-color" content="#fff"><meta data-n-head="ssr" name="keywords" content="shoma, shomaisshi, shoma kato, 加藤匠馬, developer, designer"><meta data-n-head="ssr" data-hid="description" name="description" content="PICO-8のよく使うコードをメモしておきます。
まだ書いてる途中です。"><meta data-n-head="ssr" data-hid="og:site_name" property="og:site_name" content="KLEENOTEE（クレーノート）"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="article"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://shomaisshi.github.io/my-home/blog/PICO-8のよく使うコードメモ"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="PICO-8のすすめとチートシート"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="PICO-8のよく使うコードをメモしておきます。
まだ書いてる途中です。"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="untitled_0.gif"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary_large_image"><meta data-n-head="ssr" data-hid="twitter:site" name="twitter:site" content="@shomaisshi"><base href="/my-home/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><script data-n-head="ssr" src="https://www.googletagmanager.com/gtag/js?id=G-V5FZNRGJMW" async></script><link rel="preload" href="/my-home/_nuxt/f955a55.js" as="script"><link rel="preload" href="/my-home/_nuxt/877be0f.js" as="script"><link rel="preload" href="/my-home/_nuxt/2204e05.js" as="script"><link rel="preload" href="/my-home/_nuxt/5755e8c.js" as="script"><link rel="preload" href="/my-home/_nuxt/a6131a2.js" as="script"><style data-vue-ssr-id="517a8dd7:0 fa7ff0ca:0 1f06d895:0 7fb20fcb:0 31a0691e:0 589e2412:0 6989e29d:0 37b48347:0 56e7ca08:0 ae62ec44:0 3d0d93b0:0 2a0f1ba0:0">code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}@media screen and (min-width:640px){.main[data-v-059b9871]{margin-top:40px;padding:0 16px;box-sizing:border-box}}.Header[data-v-1e248048]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;width:100%;color:var(--main-black);background:#fff;box-sizing:border-box}h1[data-v-1e248048]{margin:0;height:32px}h1 a[data-v-1e248048]{color:#545454}h1 img[data-v-1e248048]{height:24px}.nav[data-v-1e248048]{padding:0;display:flex;justify-content:space-around}.nav a[data-v-1e248048]{font-weight:700}.nav a+a[data-v-1e248048]{margin-left:8px}.nav a.nuxt-link-exact-active[data-v-1e248048]{color:#3b6ace}a[data-v-1e248048]{text-decoration:none;color:#333}@media screen and (min-width:640px){h1[data-v-1e248048]{height:32px}}.Search[data-v-9dfe4128]{display:none;position:relative}.Search:hover .Search__ul[data-v-9dfe4128]{opacity:1}@media screen and (min-width:700px){.Search[data-v-9dfe4128]{display:block}}.Search__input[data-v-9dfe4128]{width:200px;font-size:16px;padding:4px 8px;border:none;background:url(data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJzZWFyY2giIGNsYXNzPSJzdmctaW5saW5lLS1mYSBmYS1zZWFyY2ggZmEtdy0xNiIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjOWY5ZjlmIiBkPSJNNTA1IDQ0Mi43TDQwNS4zIDM0M2MtNC41LTQuNS0xMC42LTctMTctN0gzNzJjMjcuNi0zNS4zIDQ0LTc5LjcgNDQtMTI4QzQxNiA5My4xIDMyMi45IDAgMjA4IDBTMCA5My4xIDAgMjA4czkzLjEgMjA4IDIwOCAyMDhjNDguMyAwIDkyLjctMTYuNCAxMjgtNDR2MTYuM2MwIDYuNCAyLjUgMTIuNSA3IDE3bDk5LjcgOTkuN2M5LjQgOS40IDI0LjYgOS40IDMzLjkgMGwyOC4zLTI4LjNjOS40LTkuNCA5LjQtMjQuNi4xLTM0ek0yMDggMzM2Yy03MC43IDAtMTI4LTU3LjItMTI4LTEyOCAwLTcwLjcgNTcuMi0xMjggMTI4LTEyOCA3MC43IDAgMTI4IDU3LjIgMTI4IDEyOCAwIDcwLjctNTcuMiAxMjgtMTI4IDEyOHoiPjwvcGF0aD48L3N2Zz4=) var(--main-lightgray);background-repeat:no-repeat;background-position:center right 8px;background-size:16px;border-radius:4px;box-sizing:border-box}.Search__input[data-v-9dfe4128]:focus{background:var(--main-lightgray)}.Search__ul[data-v-9dfe4128]{opacity:0;position:absolute;top:20px;left:0;z-index:10;padding:8px;background:var(--main-white);border-radius:0 0 8px 8px;list-style:none}.Search__li[data-v-9dfe4128]{box-sizing:border-box;border-radius:4px}.Search__li[data-v-9dfe4128]:hover{background:var(--main-color)}.Search__li:hover a[data-v-9dfe4128]{font-weight:700;color:var(--main-white)}.Search__li a[data-v-9dfe4128]{display:block;padding:12px 16px;color:var(--main-black)}.main-content[data-v-6b7ffc86]{max-width:var(--main-width);overflow:hidden;background:#fff;box-sizing:border-box}@media screen and (min-width:640px){.main-content[data-v-6b7ffc86]{border-radius:12px}}.main-content-h1[data-v-6b7ffc86]{font-size:32px;margin:0 0 24px}.main-content-date[data-v-6b7ffc86]{margin-top:0;font-size:14px;color:var(--main-gray)}.main-content-img[data-v-6b7ffc86]{width:100%;aspect-ratio:16/9;-o-object-fit:cover;object-fit:cover}.main-contentContainer[data-v-6b7ffc86]{padding:24px;box-sizing:border-box}.main-content-nav[data-v-6b7ffc86]{background:var(--main-lightgray);border-radius:10px;box-sizing:border-box}.main-content-tags[data-v-6b7ffc86]{margin-top:56px}@media screen and (min-width:640px){.main-content-h1[data-v-6b7ffc86]{font-size:32px}}.sidebar[data-v-6b7ffc86]{display:flex;flex-direction:column;grid-gap:16px;gap:16px;padding:16px}@media screen and (min-width:640px){.slug[data-v-6b7ffc86]{display:flex;justify-content:center}.sidebar[data-v-6b7ffc86]{max-width:344px;position:sticky;top:0;margin-left:24px;padding:0;align-self:flex-start}}.nuxt-content h2{margin-top:40px;font-size:24px}.nuxt-content h3{margin-top:40px;font-size:20px}.nuxt-content h4{margin:40px 0 0;font-size:16px}.nuxt-content p{font-size:16px;line-height:1.8}.nuxt-content ul{margin:0;padding-left:20px;line-height:1.8}.nuxt-content img{width:100%;border-radius:4px}.nuxt-content hr{margin-top:32px;border-top:2px dashed var(--main-gray)}.nuxt-content a{text-decoration:underline}.nuxt-content a:not(h1a):not(h2a):not(h3a):not(h4a):after{content:"";display:inline-block;background:url(data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJleHRlcm5hbC1saW5rLWFsdCIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWV4dGVybmFsLWxpbmstYWx0IGZhLXctMTYiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHBhdGggZmlsbD0iIzAyNjJmMiIgZD0iTTQzMiwzMjBINDAwYTE2LDE2LDAsMCwwLTE2LDE2VjQ0OEg2NFYxMjhIMjA4YTE2LDE2LDAsMCwwLDE2LTE2VjgwYTE2LDE2LDAsMCwwLTE2LTE2SDQ4QTQ4LDQ4LDAsMCwwLDAsMTEyVjQ2NGE0OCw0OCwwLDAsMCw0OCw0OEg0MDBhNDgsNDgsMCwwLDAsNDgtNDhWMzM2QTE2LDE2LDAsMCwwLDQzMiwzMjBaTTQ4OCwwaC0xMjhjLTIxLjM3LDAtMzIuMDUsMjUuOTEtMTcsNDFsMzUuNzMsMzUuNzNMMTM1LDMyMC4zN2EyNCwyNCwwLDAsMCwwLDM0TDE1Ny42NywzNzdhMjQsMjQsMCwwLDAsMzQsMEw0MzUuMjgsMTMzLjMyLDQ3MSwxNjljMTUsMTUsNDEsNC41LDQxLTE3VjI0QTI0LDI0LDAsMCwwLDQ4OCwwWiI+PC9wYXRoPjwvc3ZnPg==);background-repeat:no-repeat;width:14px;height:14px;margin-left:4px;margin-right:8px;vertical-align:-1px}.nuxt-content pre{border-radius:8px}.nuxt-content p code,.nuxt-content pre{color:var(--main-black);background:var(--main-lightgray)}.nuxt-content p code{display:inline-block;padding:1px 6px 0;font-size:14px;border-radius:4px;box-sizing:border-box;border:1px solid #d6dde4}.nuxt-content blockquote{margin:8px 0;padding:24px 32px;background:var(--main-lightgray);border-radius:4px}.nuxt-content blockquote>p{margin:0;font-size:15px}@media screen and (min-width:640px){.nuxt-content h2{font-size:28px}.nuxt-content h3{font-size:24px}.nuxt-content h4,.nuxt-content p,.nuxt-content ul{font-size:18px}}.category[data-v-328475fc]{display:inline-block;font-size:12px;padding:4px 8px;color:var(--main-black);border-radius:6px;border:1px solid #cdcdcd;box-sizing:border-box}.category[data-v-328475fc]:before{content:"カテゴリー："}.Tags ul[data-v-40e0a56f]{display:flex;flex-wrap:wrap;grid-gap:4px;gap:4px;margin:0;padding:0}.Tags li[data-v-40e0a56f]{display:inline-block;font-size:12px;padding:4px 8px;color:var(--main-black);border-radius:6px;border:1px solid var(--main-mediumgray);box-sizing:border-box}.Tags li[data-v-40e0a56f]:before{content:"";display:inline-block;background:url(/my-home/_nuxt/img/hashtag-solid.1ad508d.svg);background-repeat:no-repeat;width:12px;height:12px;vertical-align:-1.5px;opacity:.7}.Tags a[data-v-40e0a56f]{color:var(--main-black)}.PrevNext[data-v-460f9be1]{padding:8px 12px;width:100%;display:flex;justify-content:space-between;box-sizing:border-box}.PrevNext a[data-v-460f9be1]{color:var(--main-gray);text-decoration:none;font-weight:600;padding:8px 16px;border-radius:10px;transition:all .1s}.PrevNext a[data-v-460f9be1]:hover{color:var(--main-color)}.PrevNextContainer[data-v-460f9be1]{display:flex;align-items:center;grid-gap:4px;gap:4px}.PrevNext__title[data-v-460f9be1]{display:inline-block;max-width:144px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.PrevNext__icon[data-v-460f9be1]{display:inline-block;width:14px;padding-bottom:2px}.Profile__header[data-v-3c6edd44]{display:flex;align-items:center}.Profile__img[data-v-3c6edd44]{width:48px;border-radius:50%}.Profile__header__right[data-v-3c6edd44]{flex:1;margin-left:8px}.Profile__name[data-v-3c6edd44]{margin:0}.Profile__occupation[data-v-3c6edd44]{margin:4px 0}.Footer[data-v-15d6a23e]{margin-top:32px;height:200px;width:100%;background:var(--main-color);box-sizing:border-box}</style><link rel="preload" href="/my-home/_nuxt/static/1665213159/blog/PICO-8%E3%81%AE%E3%82%88%E3%81%8F%E4%BD%BF%E3%81%86%E3%82%B3%E3%83%BC%E3%83%89%E3%83%A1%E3%83%A2/state.js" as="script"><link rel="preload" href="/my-home/_nuxt/static/1665213159/blog/PICO-8%E3%81%AE%E3%82%88%E3%81%8F%E4%BD%BF%E3%81%86%E3%82%B3%E3%83%BC%E3%83%89%E3%83%A1%E3%83%A2/payload.js" as="script"><link rel="preload" href="/my-home/_nuxt/static/1665213159/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div data-v-059b9871><div class="Header" data-v-1e248048 data-v-059b9871><h1 data-v-1e248048><a href="/my-home/" class="nuxt-link-active" data-v-1e248048><img src="/my-home/_nuxt/img/logo.492d35d.svg" alt="ロゴ" data-v-1e248048></a></h1> <nav class="nav" data-v-1e248048><div class="Search" data-v-9dfe4128 data-v-1e248048><input type="search" autocomplete="off" class="Search__input" data-v-9dfe4128> <!----></div></nav></div> <main class="main" data-v-059b9871><div data-v-6b7ffc86 data-v-059b9871><div class="slug" data-v-6b7ffc86><div data-v-6b7ffc86><article class="main-content" data-v-6b7ffc86><div class="main-contentContainer" data-v-6b7ffc86><p class="main-content-date" data-v-6b7ffc86>2021/12/03</p> <h1 class="main-content-h1" data-v-6b7ffc86>PICO-8のすすめとチートシート</h1> <div class="category" data-v-328475fc data-v-6b7ffc86>技術</div> <div class="nuxt-content" data-v-6b7ffc86 data-v-6b7ffc86><p data-v-6b7ffc86 data-v-6b7ffc86>PICO-8のよく使うコードをメモしておきます。
まだ書いてる途中です。</p>

<p data-v-6b7ffc86 data-v-6b7ffc86>久しぶりに使うと色々忘れてるので、個人的によく使うものをまとめておく。ここをみればすぐにプロトタイプを作れるようなページにする。</p>
<p data-v-6b7ffc86 data-v-6b7ffc86>色々な開発環境を触ってみて、一番好きだったのがPICO-8。p5jsも好きだけど、自分はタイルゲームが好きだったのでそれをミニマムに作れるところがよかった。あとはとても軽いのが最高。微力ながら普及していきたい。</p>
<p data-v-6b7ffc86 data-v-6b7ffc86>基本的には公式の<a href="https://www.lexaloffle.com/dl/docs/pico-8_manual.html" rel="nofollow noopener noreferrer" target="_blank" data-v-6b7ffc86 data-v-6b7ffc86>PICO-8 User Manual</a>をみると良と思います。</p>
<p data-v-6b7ffc86 data-v-6b7ffc86>こちらの記事も参考にさせていただいてます。<br data-v-6b7ffc86 data-v-6b7ffc86>
<a href="https://automaton-media.com/devlog/technical/pico-8-for-beginners-vol1/" rel="nofollow noopener noreferrer" target="_blank" data-v-6b7ffc86 data-v-6b7ffc86>PICO–8って何？ – PICO–8ゲーム開発入門(1)</a></p>
<hr data-v-6b7ffc86 data-v-6b7ffc86>
<h2 id="基本操作" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>基本操作</h2>
<h3 id="保存、ロード" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E4%BF%9D%E5%AD%98%E3%80%81%E3%83%AD%E3%83%BC%E3%83%89" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>保存、ロード</h3>
<p data-v-6b7ffc86 data-v-6b7ffc86>保存する</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-text" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>save hoge
</code></pre></div>
<p data-v-6b7ffc86 data-v-6b7ffc86>ロードする</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-text" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>load hoge
</code></pre></div>
<h3 id="エクスポート" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>エクスポート</h3>
<p data-v-6b7ffc86 data-v-6b7ffc86>画像書き出し</p>
<p data-v-6b7ffc86 data-v-6b7ffc86>スプライトシートのみ描き出す</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-text" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>export hoge.png
</code></pre></div>
<p data-v-6b7ffc86 data-v-6b7ffc86>スプライトシートを読み込む</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-text" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>import hoge.png
</code></pre></div>
<p data-v-6b7ffc86 data-v-6b7ffc86>保存
拡張子 <code data-v-6b7ffc86 data-v-6b7ffc86>.p8.png</code> で保存するとカートリッジのように見える特殊なフォーマットにで保存できる。
プログラム実行中に <code data-v-6b7ffc86 data-v-6b7ffc86>F7</code> キーでスクリーンショットを撮ると反映される。
プログラム先頭の <code data-v-6b7ffc86 data-v-6b7ffc86>’—‘</code> で始まる2行はカートリッジのテキストラベルになる。</p>
<h3 id="プレイヤー操作" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E6%93%8D%E4%BD%9C" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>プレイヤー操作</h3>
<ul data-v-6b7ffc86 data-v-6b7ffc86>
<li data-v-6b7ffc86 data-v-6b7ffc86>プレイヤー1：カーソルキー + ZX /  NM / CV</li>
<li data-v-6b7ffc86 data-v-6b7ffc86>プレイヤー2：SDFE + TAB,Q / SHIFT A</li>
</ul>
<h3 id="スクリーンショットの撮り方" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%E3%81%AE%E6%92%AE%E3%82%8A%E6%96%B9" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>スクリーンショットの撮り方</h3>
<ul data-v-6b7ffc86 data-v-6b7ffc86>
<li data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>F6</code> で静止画</li>
<li data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>F7</code> でカートリッジのタイトル画像を撮る</li>
<li data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>F8</code> でGifアニメーションの録画をスタート、 <code data-v-6b7ffc86 data-v-6b7ffc86>F9</code> でストップ</li>
</ul>
<p data-v-6b7ffc86 data-v-6b7ffc86>Macだと <code data-v-6b7ffc86 data-v-6b7ffc86>fn</code> キーを押しながら <code data-v-6b7ffc86 data-v-6b7ffc86>F6</code> キーとかを押す</p>
<hr data-v-6b7ffc86 data-v-6b7ffc86>
<h2 id="pico-8の文法" data-v-6b7ffc86 data-v-6b7ffc86><a href="#pico-8%E3%81%AE%E6%96%87%E6%B3%95" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>PICO-8の文法</h2>
<ul data-v-6b7ffc86 data-v-6b7ffc86>
<li data-v-6b7ffc86 data-v-6b7ffc86>ゲームループ</li>
<li data-v-6b7ffc86 data-v-6b7ffc86>オブジェクト化</li>
<li data-v-6b7ffc86 data-v-6b7ffc86>関数</li>
<li data-v-6b7ffc86 data-v-6b7ffc86>if文</li>
<li data-v-6b7ffc86 data-v-6b7ffc86>forループ</li>
</ul>
<h3 id="ゲームループ" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%AB%E3%83%BC%E3%83%97" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>ゲームループ</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_init</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<h3 id="if文" data-v-6b7ffc86 data-v-6b7ffc86><a href="#if%E6%96%87" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>if文</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>If x <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>&lt;</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>10</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>‘ok’<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<h3 id="for文" data-v-6b7ffc86 data-v-6b7ffc86><a href="#for%E6%96%87" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>for文</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--4回繰り返す</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>for</span> i<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>4</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>do</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>i<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<h3 id="関数" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E9%96%A2%E6%95%B0" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>関数</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>hoge</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token string" data-v-6b7ffc86 data-v-6b7ffc86>'ok'</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<h3 id="テーブル" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>テーブル</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>player <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
player<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>
player<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span>
player<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span>

<span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>spr</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>player<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> player<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> player<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
</code></pre></div>
<h3 id="printの使い方" data-v-6b7ffc86 data-v-6b7ffc86><a href="#print%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>printの使い方</h3>
<p data-v-6b7ffc86 data-v-6b7ffc86>変数と文字列を同時に表示する</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>score <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1234</span>
<span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token string" data-v-6b7ffc86 data-v-6b7ffc86>'score: '</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>..</span>score<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>120</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
</code></pre></div>
<p data-v-6b7ffc86 data-v-6b7ffc86>—</p>
<h2 id="よく使うコード例" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%82%88%E3%81%8F%E4%BD%BF%E3%81%86%E3%82%B3%E3%83%BC%E3%83%89%E4%BE%8B" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>よく使うコード例</h2>
<p data-v-6b7ffc86 data-v-6b7ffc86>いろいろな書き方があると思うので、あくまでも参考までに。</p>
<h3 id="プレイヤー" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>プレイヤー</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--player</span>

p<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>init<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>update<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btn</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btn</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btn</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>2</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btn</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>3</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>draw<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>spr</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_init</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>init</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>cls</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<p data-v-6b7ffc86 data-v-6b7ffc86>1タイルずつ動かしたい時は、 <code data-v-6b7ffc86 data-v-6b7ffc86>btnp()</code> を使い、8ピクセル動かす。</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>update<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btnp</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btnp</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btnp</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>2</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btnp</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>3</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<hr data-v-6b7ffc86 data-v-6b7ffc86>
<h3 id="オブジェクトを動的に出す" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%8B%95%E7%9A%84%E3%81%AB%E5%87%BA%E3%81%99" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>オブジェクトを動的に出す</h3>
<h3 id="敵を出してみる" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E6%95%B5%E3%82%92%E5%87%BA%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>敵を出してみる</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--npcs</span>

npcs <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>create_npc</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>local</span> n <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
    
    n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>s <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>3</span>
    n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> x
    n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> y
    
    n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>update<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

    n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>draw<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
        <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>spr</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>s<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>return</span> n
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_init</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>for</span> i<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>4</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>do</span>
        <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>add</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>npcs<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>create_npc</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>i<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>*</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>10</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>30</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>for</span> npc <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>in</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>all</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>npcs<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>do</span>
        npc<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>cls</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>for</span> npc <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>in</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>all</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>npcs<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>do</span>
        npc<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<h3 id="ビームを作る" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%83%93%E3%83%BC%E3%83%A0%E3%82%92%E4%BD%9C%E3%82%8B" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>ビームを作る</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--beams</span>
beams<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>create_beam</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>local</span> b<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
    b<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span>x
    b<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span>y
    b<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>s<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>2</span>
    
    b<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>update<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
        b<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    
    b<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>draw<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
        <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>spr</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>b<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>s<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>b<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>b<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>return</span> b
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

</code></pre></div>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--player</span>

p<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>init<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>update<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btn</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btn</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btn</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>2</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btn</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>3</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btnp</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>4</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>add</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>beams<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>create_beam</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
 
 <span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--beam update</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>for</span> beam <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>in</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>all</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>beams<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>do</span>
        beam<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>draw<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>spr</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    
    <span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--beam draw</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>for</span> beam <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>in</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>all</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>beams<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>do</span>
        beam<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86>—game loop
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_init</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>init</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>cls</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>#</span>beams<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<p data-v-6b7ffc86 data-v-6b7ffc86>これでプレイヤーからビームがたくさん出るようになった。</p>
<hr data-v-6b7ffc86 data-v-6b7ffc86>
<h3 id="簡単な衝突判定の関数" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E7%B0%A1%E5%8D%98%E3%81%AA%E8%A1%9D%E7%AA%81%E5%88%A4%E5%AE%9A%E3%81%AE%E9%96%A2%E6%95%B0" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>簡単な衝突判定の関数</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--collision</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>distance</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x1<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>y1<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>x2<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>y2<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
 <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>return</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>sqrt</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x1<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span>x2<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>^</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>2</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>y1<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span>y2<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>^</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>2</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>collision</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x1<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y1<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> x2<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y2<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>distance</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x1<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y1<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> x2<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y2<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>&lt;</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>4</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>return</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>true</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>else</span>
        <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>return</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>false</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<h3 id="オブジェクトを削除する" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%89%8A%E9%99%A4%E3%81%99%E3%82%8B" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>オブジェクトを削除する</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>del</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>obj<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> value<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
</code></pre></div>
<h3 id="パーティクル" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%83%91%E3%83%BC%E3%83%86%E3%82%A3%E3%82%AF%E3%83%AB" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>パーティクル</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--particle</span>
ptcl <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>create_ptcl</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>local</span> dot <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
    dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> x
    dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> y
    dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>r <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>rnd</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>*</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>4</span>
    dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>c <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>2</span>
    dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>vx <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>rnd</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>*</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>2</span> <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>
    dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>vy <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>rnd</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>*</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>2</span> <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>
    dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>life <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>20</span>
    
    dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>update<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
        dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>vx
        dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>vy
        
        dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>life <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>
        <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>life <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>&lt;</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
            <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>del</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>ptcl<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
        <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    
    dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>draw<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
        <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>circfill</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>r<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> dot<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>c<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>return</span> dot
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<p data-v-6b7ffc86 data-v-6b7ffc86>パーティクルを発生させる</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--particle</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>for</span> i<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>10</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>do</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>add</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>ptcl<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>create_ptcl</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>4</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> n<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>4</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<p data-v-6b7ffc86 data-v-6b7ffc86>パーティクルを表示する</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>for</span> p <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>in</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>all</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>ptcl<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>do</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>for</span> p <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>in</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>all</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>ptcl<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>do</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<h3 id="mapタイル系のメモ" data-v-6b7ffc86 data-v-6b7ffc86><a href="#map%E3%82%BF%E3%82%A4%E3%83%AB%E7%B3%BB%E3%81%AE%E3%83%A1%E3%83%A2" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>Mapタイル系のメモ</h3>
<p data-v-6b7ffc86 data-v-6b7ffc86>Map</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>map</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
</code></pre></div>
<p data-v-6b7ffc86 data-v-6b7ffc86>Camera</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>camera</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>60</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
</code></pre></div>
<h3 id="タイル系ゲームのテンプレート" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%82%BF%E3%82%A4%E3%83%AB%E7%B3%BB%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%AE%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>タイル系ゲームのテンプレート</h3>
<p data-v-6b7ffc86 data-v-6b7ffc86>タイルの取得
フラッグの取得</p>
<p data-v-6b7ffc86 data-v-6b7ffc86>・Update関数内で、新しく <code data-v-6b7ffc86 data-v-6b7ffc86>newx</code> <code data-v-6b7ffc86 data-v-6b7ffc86>newy</code> を作りキャラクターの位置を代入する<br data-v-6b7ffc86 data-v-6b7ffc86>
・移動ボタンを押した時、その位置にどのタイルがあるかを確認する<br data-v-6b7ffc86 data-v-6b7ffc86>
・<code data-v-6b7ffc86 data-v-6b7ffc86>wall</code> タイルなら効果音を鳴らすだけ<br data-v-6b7ffc86 data-v-6b7ffc86>
・それ以外であればキャラクターの位置に <code data-v-6b7ffc86 data-v-6b7ffc86>newx</code> <code data-v-6b7ffc86 data-v-6b7ffc86>newy</code>を代入する</p>
<p data-v-6b7ffc86 data-v-6b7ffc86>mget</p>
<p data-v-6b7ffc86 data-v-6b7ffc86>fget</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--tiles</span>
tiles <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
tiles<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>wall <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span>
tiles<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>key <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>

<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--player</span>
p <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>24</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>24</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newx <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newy <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>24</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>hp <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>10</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>keys <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr_flipped <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>false</span>

<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--move</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>move <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newx <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newy <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y
    
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btnp</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>⬅️<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newx <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr_flipped <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>true</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btnp</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>➡️<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newx <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr_flipped <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>false</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btnp</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>⬆️<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newy <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>btnp</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>⬇️<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newy <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--tile effect</span>
<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--check tile</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>is_tile <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>tile_type<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    tile <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>mget</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    has_flag <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>fget</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>tile<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> tile_type<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>return</span> has_flag
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--can move</span>
<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--check if the tile is a wall</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>can_move <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>return</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>not</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>is_tile</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>tiles<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>wall<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>move_or_stop <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>can_move</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newx<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>/</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newy<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>/</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newx
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newy
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>else</span>
        <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>sfx</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--swap tile</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>swap_tile <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    tile <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>mget</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>mset</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> tile<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--key get</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>get_key <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>keys <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>+</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>swap_tile</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>sfx</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--interact</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>interact <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--get key</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>is_tile</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>tiles<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>key<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>get_key</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--update</span>
p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>update <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>

    <span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--move</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>move</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>

    <span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--move or stop</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>move_or_stop</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    
    <span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--interact</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>interact</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newx<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>/</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>newy<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>/</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>draw <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>spr</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr_flipped<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--game loop</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_init</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>cls</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>map</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>64</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<h3 id="カメラについて" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%82%AB%E3%83%A1%E3%83%A9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>カメラについて</h3>
<p data-v-6b7ffc86 data-v-6b7ffc86>・画面ごと移動する実装
・キャラクターについてくる実装</p>
<p data-v-6b7ffc86 data-v-6b7ffc86>キャラクターについてくる実装はシンプルにこうすればいい</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>camera</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>60</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>60</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
</code></pre></div>
<h3 id="ui" data-v-6b7ffc86 data-v-6b7ffc86><a href="#ui" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>UI</h3>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>-- ui</span>

ui <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
ui<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span>
ui<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0</span>

ui<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>update <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    ui<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>60</span>
    ui<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>-</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>60</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

ui<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>draw <span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token string" data-v-6b7ffc86 data-v-6b7ffc86>'keys:'</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>..</span>p<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>keys<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> ui<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> ui<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<h3 id="マウスの使い方" data-v-6b7ffc86 data-v-6b7ffc86><a href="#%E3%83%9E%E3%82%A6%E3%82%B9%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9" aria-hidden="true" tabindex="-1" data-v-6b7ffc86 data-v-6b7ffc86><span class="icon icon-link" data-v-6b7ffc86 data-v-6b7ffc86></span></a>マウスの使い方</h3>
<p data-v-6b7ffc86 data-v-6b7ffc86>マウスも使えたりする</p>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>-- mouse</span>
mouse<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>{</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>}</span>
mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>init<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>poke</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>0x5f2d</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span> <span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>32</span>
    mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>stat</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>32</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>stat</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>33</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>update<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>stat</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>32</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>stat</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>33</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>pressed<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>stat</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>34</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>==</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>return</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>true</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>draw<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>pressed</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
        mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>else</span>
        mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>32</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    
    <span class="token comment" data-v-6b7ffc86 data-v-6b7ffc86>--map get</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>if</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>mget</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>/</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>/</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span><span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>==</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>1</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span> <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>then</span>
        mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>=</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>33</span>
        <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>circ</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>7</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
    
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>spr</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>spr<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>print</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>mget</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>x<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>/</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>,</span>mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span>y<span class="token operator" data-v-6b7ffc86 data-v-6b7ffc86>/</span><span class="token number" data-v-6b7ffc86 data-v-6b7ffc86>8</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div>
<div class="nuxt-content-highlight" data-v-6b7ffc86 data-v-6b7ffc86><pre class="line-numbers language-lua" data-v-6b7ffc86 data-v-6b7ffc86><code data-v-6b7ffc86 data-v-6b7ffc86><span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_init</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>init</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>update</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>

<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>function</span> <span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>_draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
    mouse<span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>.</span><span class="token function" data-v-6b7ffc86 data-v-6b7ffc86>draw</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>(</span><span class="token punctuation" data-v-6b7ffc86 data-v-6b7ffc86>)</span>
<span class="token keyword" data-v-6b7ffc86 data-v-6b7ffc86>end</span>
</code></pre></div></div> <div class="Tags main-content-tags" data-v-40e0a56f data-v-6b7ffc86><ul data-v-40e0a56f><li data-v-40e0a56f><a href="/my-home/" class="nuxt-link-active" data-v-40e0a56f>
        技術
      </a></li><li data-v-40e0a56f><a href="/my-home/" class="nuxt-link-active" data-v-40e0a56f>
        アイデア
      </a></li><li data-v-40e0a56f><a href="/my-home/" class="nuxt-link-active" data-v-40e0a56f>
        ラボ
      </a></li><li data-v-40e0a56f><a href="/my-home/" class="nuxt-link-active" data-v-40e0a56f>
        pico-8
      </a></li></ul></div></div> <div class="PrevNext" data-v-460f9be1 data-v-6b7ffc86><a href="/my-home/blog/technofish" data-v-460f9be1><div class="PrevNextContainer" data-v-460f9be1><img src="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJhcnJvdy1sZWZ0IiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtYXJyb3ctbGVmdCBmYS13LTE0IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDQ0OCA1MTIiPjxwYXRoIGZpbGw9IiNjMmMyYzIiIGQ9Ik0yNTcuNSA0NDUuMWwtMjIuMiAyMi4yYy05LjQgOS40LTI0LjYgOS40LTMzLjkgMEw3IDI3M2MtOS40LTkuNC05LjQtMjQuNiAwLTMzLjlMMjAxLjQgNDQuN2M5LjQtOS40IDI0LjYtOS40IDMzLjkgMGwyMi4yIDIyLjJjOS41IDkuNSA5LjMgMjUtLjQgMzQuM0wxMzYuNiAyMTZINDI0YzEzLjMgMCAyNCAxMC43IDI0IDI0djMyYzAgMTMuMy0xMC43IDI0LTI0IDI0SDEzNi42bDEyMC41IDExNC44YzkuOCA5LjMgMTAgMjQuOC40IDM0LjN6Ij48L3BhdGg+PC9zdmc+" alt="前の記事を指す矢印" class="PrevNext__icon" data-v-460f9be1> <span class="PrevNext__title" data-v-460f9be1>Fish shooter</span></div></a> <a href="/my-home/blog/%E8%87%AA%E5%8B%95%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%80%81%E6%89%8B%E5%8B%95%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3" data-v-460f9be1><div class="PrevNextContainer" data-v-460f9be1><span class="PrevNext__title" data-v-460f9be1>自動のデザイン、手動のデザイン</span> <img src="data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJhcnJvdy1yaWdodCIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWFycm93LXJpZ2h0IGZhLXctMTQiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNDQ4IDUxMiI+PHBhdGggZmlsbD0iI2MyYzJjMiIgZD0iTTE5MC41IDY2LjlsMjIuMi0yMi4yYzkuNC05LjQgMjQuNi05LjQgMzMuOSAwTDQ0MSAyMzljOS40IDkuNCA5LjQgMjQuNiAwIDMzLjlMMjQ2LjYgNDY3LjNjLTkuNCA5LjQtMjQuNiA5LjQtMzMuOSAwbC0yMi4yLTIyLjJjLTkuNS05LjUtOS4zLTI1IC40LTM0LjNMMzExLjQgMjk2SDI0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNHYtMzJjMC0xMy4zIDEwLjctMjQgMjQtMjRoMjg3LjRMMTkwLjkgMTAxLjJjLTkuOC05LjMtMTAtMjQuOC0uNC0zNC4zeiI+PC9wYXRoPjwvc3ZnPg==" alt="次の記事を指す矢印" class="PrevNext__icon" data-v-460f9be1></div></a></div></article></div> <div class="sidebar" data-v-6b7ffc86><div class="Profile BaseCardSidebar TheProfile" data-v-3c6edd44 data-v-6b7ffc86><div class="Profile__header" data-v-3c6edd44><img src="/my-home/_nuxt/img/profile_icon.04be04b.gif" alt="icon" class="Profile__img" data-v-3c6edd44> <div class="Profile__header__right" data-v-3c6edd44><h2 class="Profile__name" data-v-3c6edd44>shoma</h2> <p class="Profile__occupation" data-v-3c6edd44>Developer / Designer</p></div></div> <p data-v-3c6edd44>作った物や好きなものの紹介、技術メモなど。</p> <a href="/my-home/PagePortfolio" data-v-3c6edd44>→リリースしたアプリ一覧</a></div> <div class="Product BaseCardSidebar" data-v-5ee99ed7 data-v-6b7ffc86><h2 data-v-5ee99ed7>作ったアプリのリンク</h2> <ul data-v-5ee99ed7><li data-v-5ee99ed7><a href="https://shomaisshi.github.io/Pixel-map-sketch/" target="_blank" data-v-5ee99ed7>
        Pixel map sketchをブラウザで遊ぶ
      </a></li></ul></div></div></div></div></main> <div class="Footer" data-v-15d6a23e data-v-059b9871></div></div></div></div><script defer src="/my-home/_nuxt/static/1665213159/blog/PICO-8%E3%81%AE%E3%82%88%E3%81%8F%E4%BD%BF%E3%81%86%E3%82%B3%E3%83%BC%E3%83%89%E3%83%A1%E3%83%A2/state.js"></script><script src="/my-home/_nuxt/f955a55.js" defer></script><script src="/my-home/_nuxt/a6131a2.js" defer></script><script src="/my-home/_nuxt/877be0f.js" defer></script><script src="/my-home/_nuxt/2204e05.js" defer></script><script src="/my-home/_nuxt/5755e8c.js" defer></script>
  </body>
</html>
